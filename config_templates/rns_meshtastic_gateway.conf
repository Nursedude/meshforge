# MeshForge - RNS Over Meshtastic Gateway Configuration
# Version: 0.4.3-beta
# Generated by MeshForge NOC
#
# This configuration file sets up Reticulum Network Stack (RNS)
# to communicate over Meshtastic LoRa mesh networks using the
# SHORT_TURBO preset (data_speed = 8) for optimal RNS performance.
#
# Installation:
# 1. Copy this file to ~/.reticulum/config
# 2. Update the port/ble_port/tcp_port to match your device
# 3. Start the RNS daemon: rnsd
# 4. Check status: rnstatus

[reticulum]
# Enable transport mode for message forwarding
enable_transport = yes

# Share instance allows multiple RNS programs to use the same daemon
share_instance = yes
shared_instance_port = 37428
instance_control_port = 37429

[logging]
# Log levels: 0=Critical, 1=Error, 2=Warning, 3=Notice, 4=Info, 5=Verbose, 6=Debug, 7=Extreme
loglevel = 4

[interfaces]
  # ==================================================================
  # Meshtastic Interface - RNS Gateway over Meshtastic LoRa Mesh
  # ==================================================================
  #
  # This interface connects RNS to Meshtastic devices, enabling
  # secure encrypted communication over LoRa mesh networks.
  #
  # Preset: SHORT_TURBO (data_speed = 8)
  #   - Delay: 0.4 seconds between packets
  #   - Throughput: ~500 bytes/second (maximum for RNS over Meshtastic)
  #   - Range: Short range, ideal for local mesh networks
  #   - Recommended for: RNS applications requiring fast response
  #
  [[Meshtastic Gateway]]
    type = Meshtastic_Interface
    enabled = yes

    # ============================================================
    # CONNECTION OPTIONS (choose ONE)
    # ============================================================

    # Option 1: USB Serial Connection (most common)
    # Linux: /dev/ttyUSB0 or /dev/ttyACM0
    # macOS: /dev/cu.usbserial-*
    # Windows: COM3 (check Device Manager)
    port = /dev/ttyUSB0

    # Option 2: Bluetooth LE Connection
    # Uncomment and set your BLE device ID:
    # ble_port = short_1234

    # Option 3: TCP/IP Connection (for meshtasticd)
    # Uncomment and set your meshtasticd address:
    # tcp_port = 127.0.0.1:4403

    # ============================================================
    # LORA SETTINGS
    # ============================================================

    # LoRa Modem Preset (data_speed)
    # 8 = SHORT_TURBO  (0.4s) - RECOMMENDED for RNS
    # 6 = SHORT_FAST   (1.0s) - Good alternative
    # 5 = SHORT_SLOW   (3.0s) - Better range
    # 4 = MEDIUM_FAST  (4.0s) - Slowest recommended for RNS
    # 0 = LONG_FAST    (8.0s) - Default Meshtastic
    data_speed = 8

    # Hop Limit - Maximum number of mesh hops (1-7)
    # Lower = less network congestion, higher = more coverage
    hop_limit = 3

    # Bitrate indication (optional, for monitoring)
    bitrate = 500

  # ==================================================================
  # Additional Interfaces (Optional)
  # ==================================================================

  # TCP Server Interface (for local network access)
  # [[TCP Server]]
  #   type = TCPServerInterface
  #   enabled = no
  #   listen_ip = 0.0.0.0
  #   listen_port = 4242

  # TCP Client Interface (connect to remote RNS node)
  # [[TCP Client]]
  #   type = TCPClientInterface
  #   enabled = no
  #   target_host = 192.168.1.100
  #   target_port = 4242
